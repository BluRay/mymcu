<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>NodeAppConfig</title>
</head>
<body>
  <div class="maindiv">
    <h4>NodeAppConfig</h4>
    <input id="config" />
    <button onclick="getConfig()" style="height:32px;">Get/Set Config</button><br/>
    <textarea rows="10" cols="60" id="config_msg" disabled style="font-family: '微软雅黑'"></textarea>
    <p>Gravity@2023</p>
  </div>
</body>
<script>
console.log("Date: " + new Date());
document.getElementById('config_msg').value = new Date()
function getConfig() {
  //第一步：建立所需的对象
  var httpRequest = new XMLHttpRequest();
  //第二步：打开连接  将请求参数写在URL中 ps:"./Ptest.php?name=test&nameone=testone"
  httpRequest.open('GET', '/config' + '?' + document.getElementById('config').value, true);
  //第三步：发送请求
  httpRequest.send();
  httpRequest.onreadystatechange = function () {
    if (httpRequest.readyState == 4 && httpRequest.status == 200) {
      var json = httpRequest.responseText;  //获取到json字符串，还需解析
      // alert(JSON.stringify(JSON.parse(json), null, '\t'));
      document.getElementById('config_msg').value = JSON.stringify(JSON.parse(json), null, '\t')
    }
  };
}
</script>
<style>
.maindiv {
  width:98vw;
  height: 60vh;
  border: 2px solid gray;
  border-radius: 5px;
  display: grid;
  place-content: center;
  align-content: baseline;
}
input 
{
  height:32px;
  border-radius:5px;
  outline:none;
  border-top-style: groove;
  border-right-style: groove;
  border-bottom-style: groove;
  border-left-style: groove;
  border:2px solid #a1a1a1;
}
</style>
</html>